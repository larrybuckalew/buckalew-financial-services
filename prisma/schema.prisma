datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  previewFeatures = ["fullTextSearch", "fullTextIndex", "jsonProtocol"]
}

// Enhanced indexing for performance
model User {
  id                String    @id @default(cuid())
  email             String    @unique
  name              String?
  
  // Indexes for common query patterns
  @@index([email])
  @@index([createdAt])
}

model Transaction {
  id                String    @id @default(cuid())
  userId            String
  amount            Decimal
  type              String
  description       String?
  timestamp         DateTime  @default(now())
  
  // Compound indexes for complex queries
  @@index([userId, timestamp])
  @@index([type, timestamp])
  
  // Full-text search for descriptions
  @@fulltext([description])
}

model Investment {
  id                String    @id @default(cuid())
  userId            String
  productName       String
  currentValue      Decimal
  purchaseDate      DateTime
  
  // Optimize investment queries
  @@index([userId, purchaseDate])
  @@index([currentValue])
}

// Add more indexes and optimizations as needed
